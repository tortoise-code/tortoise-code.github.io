(window.webpackJsonp=window.webpackJsonp||[]).push([[46],{328:function(s,t,a){"use strict";a.r(t);var n=a(14),e=Object(n.a)({},(function(){var s=this,t=s._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h1",{attrs:{id:"部署svn"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#部署svn"}},[s._v("#")]),s._v(" 部署SVN")]),s._v(" "),t("h2",{attrs:{id:"配置centossvn"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#配置centossvn"}},[s._v("#")]),s._v(" 配置CentosSVN")]),s._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#查看svn版本")]),s._v("\nsvn "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--version")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# centos ")]),s._v("\nyum "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" subversion\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#  主目录创建svn仓库")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("mkdir")]),s._v(" svn\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#  进入目录 创建 文件夹 log  project  conf")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" svn\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("mkdir")]),s._v(" log project\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 进入真实的svn仓库")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" project\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 创建项目仓库 (宝塔面板风格)")]),s._v("\nsvnadmin create www.yourdomain.com\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 将 仓库配置文件夹移动到svn下成为全局配置")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("mv")]),s._v(" ~/svn/project/www.yourdomain.com/conf/  ~/svn/\n")])])]),t("blockquote",[t("p",[s._v(".\n├── conf                 # 移动来的\n│   ├── authz\n│   ├── passwd\n│   └── svnserve.conf\n├── log\n└── project\n└── www.yourdomain.com\n├── conf -> ../../conf/  # ln -s ../../conf/  建立的虚拟链接\n├── db\n├── format\n├── hooks\n├── locks\n└── README.txt")])]),s._v(" "),t("h2",{attrs:{id:"centos"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#centos"}},[s._v("#")]),s._v(" Centos")]),s._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("mkdir")]),s._v(" svn\nyum "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" subversion\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" svn\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("mkdir")]),s._v(" project\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("mkdir")]),s._v(" log\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" project\nsvnadmin create tp5\n "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" tp5\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("mv")]),s._v(" conf/ "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v("/"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v("/\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ln")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-s")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v("/"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v("/conf\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v("/"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v("/conf\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("vi")]),s._v(" svnserve.conf\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("vi")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("passwd")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("vi")]),s._v(" authz \n\n")])])]),t("h2",{attrs:{id:"ubuntu"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ubuntu"}},[s._v("#")]),s._v(" Ubuntu")]),s._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("apt-get")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" subversion\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("mkdir")]),s._v(" svn\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" svn\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("mkdir")]),s._v(" project\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("mkdir")]),s._v(" log\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" project\nsvnadmin create tp5\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("mv")]),s._v(" conf/ "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v("/"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v("/\n")])])]),t("h4",{attrs:{id:"start-sh"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#start-sh"}},[s._v("#")]),s._v(" Start.sh")]),s._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("svnserve -d -r project/ --listen-port 6666  --log-file=log/svn-server.log\n")])])]),t("h4",{attrs:{id:"show-sh"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#show-sh"}},[s._v("#")]),s._v(" Show.sh")]),s._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("ps -ef|grep svnserve\n")])])]),t("h4",{attrs:{id:"stop-sh"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#stop-sh"}},[s._v("#")]),s._v(" Stop.sh")]),s._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("killall svnserve\n")])])]),t("h4",{attrs:{id:"hooks"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#hooks"}},[s._v("#")]),s._v(" HOOKS")]),s._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token shebang important"}},[s._v("#!/bin/sh")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("export")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("LANG")])]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("en_US.utf8\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("WEB_PATH")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("/www/wwwroot/www.domain.com\nsvn update "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$WEB_PATH")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--username")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'sally'")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--password")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'sallyssecret'")]),s._v(" --no-auth-cache\n")])])])])}),[],!1,null,null,null);t.default=e.exports}}]);