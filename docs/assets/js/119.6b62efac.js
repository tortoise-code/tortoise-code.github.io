(window.webpackJsonp=window.webpackJsonp||[]).push([[119],{437:function(t,s,a){"use strict";a.r(s);var n=a(25),e=Object(n.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"mybatis的核心配置-映射文件"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#mybatis的核心配置-映射文件"}},[t._v("#")]),t._v(" MyBatis的核心配置-映射文件")]),t._v(" "),s("h2",{attrs:{id:"课时安排"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#课时安排"}},[t._v("#")]),t._v(" 课时安排")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",{staticStyle:{"text-align":"center"}},[t._v("章节学时")]),t._v(" "),s("th",{staticStyle:{"text-align":"center"}},[t._v("课题学时")])])]),t._v(" "),s("tbody",[s("tr",[s("td",{staticStyle:{"text-align":"center"}},[t._v("2")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("6")])])])]),t._v(" "),s("h2",{attrs:{id:"课程导入-复习-预习检查"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#课程导入-复习-预习检查"}},[t._v("#")]),t._v(" 课程导入（复习/预习检查）")]),t._v(" "),s("ol",[s("li",[t._v("引入MyBatis映射文件使用了那两个元素")]),t._v(" "),s("li",[s("code",[t._v("<dataSource>")]),t._v("一般使用那种链接方式")])]),t._v(" "),s("h2",{attrs:{id:"教学目的与要求"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#教学目的与要求"}},[t._v("#")]),t._v(" 教学目的与要求")]),t._v(" "),s("p",[t._v("掌握MyBatis映射文件中的常用元素、"),s("code",[t._v("<select>")]),t._v("元素、"),s("code",[t._v("<insert>")]),t._v("元素、"),s("code",[t._v("<update>")]),t._v("元素、"),s("code",[t._v("<delete>")]),t._v("元素）")]),t._v(" "),s("h2",{attrs:{id:"教学重点"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#教学重点"}},[t._v("#")]),t._v(" 教学重点")]),t._v(" "),s("p",[s("code",[t._v("mapper")]),t._v("子元素")]),t._v(" "),s("h2",{attrs:{id:"教学难点"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#教学难点"}},[t._v("#")]),t._v(" 教学难点")]),t._v(" "),s("p",[t._v("无")]),t._v(" "),s("h2",{attrs:{id:"授课方法"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#授课方法"}},[t._v("#")]),t._v(" 授课方法")]),t._v(" "),s("ul",[s("li",[s("ol",[s("li",[t._v("讲授发")])])]),t._v(" "),s("li",[s("ol",{attrs:{start:"2"}},[s("li",[t._v("案例教学法")])])]),t._v(" "),s("li",[s("ol",{attrs:{start:"3"}},[s("li",[t._v("翻转课堂")])])]),t._v(" "),s("li",[s("ol",{attrs:{start:"4"}},[s("li",[t._v("游戏教学")])])])]),t._v(" "),s("h2",{attrs:{id:"教学仪器"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#教学仪器"}},[t._v("#")]),t._v(" 教学仪器")]),t._v(" "),s("ul",[s("li",[t._v("投影仪")]),t._v(" "),s("li",[t._v("计算机")])]),t._v(" "),s("h2",{attrs:{id:"教学内容"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#教学内容"}},[t._v("#")]),t._v(" 教学内容")]),t._v(" "),s("h3",{attrs:{id:"mapper元素"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#mapper元素"}},[t._v("#")]),t._v(" mapper元素")]),t._v(" "),s("ol",[s("li",[s("code",[t._v("<mapper>")]),t._v("元素是映射文件的根元素，其他元素都是它的子元素。")]),t._v(" "),s("li",[s("code",[t._v("MyBatis")]),t._v("映射文件中的"),s("code",[t._v("<mapper>")]),t._v("元素下的常用元素。")])]),t._v(" "),s("ul",[s("li",[s("code",[t._v("<cache>")]),t._v("：配置给定命名空间的缓存")]),t._v(" "),s("li",[s("code",[t._v("<cache-ref>")]),t._v("：从其他命名空间引用缓存配置")]),t._v(" "),s("li",[s("code",[t._v("<select>")]),t._v(" ：用于映射查询语句")]),t._v(" "),s("li",[s("code",[t._v("<insert>")]),t._v("：用于映射插入语句")]),t._v(" "),s("li",[s("code",[t._v("<update>")]),t._v("：用于映射更新语句")]),t._v(" "),s("li",[s("code",[t._v("<delete>")]),t._v("：用于映射删除语句")]),t._v(" "),s("li",[s("code",[t._v("<sql>")]),t._v("：可以重用的 SQL 块，也可以被其他语句使用")]),t._v(" "),s("li",[s("code",[t._v("<resultMap>")]),t._v("：描述数据库结果集和对象的对应关系")])]),t._v(" "),s("h3",{attrs:{id:"子元素具体刨析讲解"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#子元素具体刨析讲解"}},[t._v("#")]),t._v(" 子元素具体刨析讲解")]),t._v(" "),s("p",[t._v("略")]),t._v(" "),s("blockquote",[s("p",[t._v("封装"),s("code",[t._v("MyBatis")]),t._v("核心工具类")])]),t._v(" "),s("div",{staticClass:"language-java extra-class"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("package")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("com"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("itheima"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("utils")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token import"}},[s("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("java"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("io"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")])]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Reader")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token import"}},[s("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("org"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("apache"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("ibatis"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("io"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")])]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Resources")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token import"}},[s("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("org"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("apache"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("ibatis"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("session"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")])]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("SqlSession")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token import"}},[s("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("org"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("apache"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("ibatis"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("session"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")])]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("SqlSessionFactory")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token import"}},[s("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("org"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("apache"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("ibatis"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("session"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")])]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("SqlSessionFactoryBuilder")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/**\n * 工具类\n */")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("MyBatisUtils")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("private")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("static")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("SqlSessionFactory")]),t._v(" sqlSessionFactory "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("null")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 初始化SqlSessionFactory对象")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("static")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("try")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 使用MyBatis提供的Resources类加载MyBatis的配置文件")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Reader")]),t._v(" reader "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("\n                    "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Resources")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("getResourceAsReader")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"mybatis-config.xml"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 构建SqlSessionFactory工厂")]),t._v("\n            sqlSessionFactory "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("\n                    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("SqlSessionFactoryBuilder")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("build")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("reader"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("catch")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Exception")]),t._v(" e"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            e"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("printStackTrace")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 获取SqlSession对象的静态方法")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("static")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("SqlSession")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("getSession")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" sqlSessionFactory"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("openSession")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])])}),[],!1,null,null,null);s.default=e.exports}}]);